<UserControl
    x:Class="MagickCrop.Controls.SaveOptionsDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:wpfui="http://schemas.lepo.co/wpfui/2022/xaml"
    d:DesignHeight="450"
    d:DesignWidth="400"
    mc:Ignorable="d">

    <Grid Margin="20" Background="{wpfui:ThemeResource ApplicationBackgroundBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!--  Format Selection  -->
        <TextBlock
            Grid.Row="0"
            Margin="0,0,0,5"
            FontWeight="SemiBold"
            Text="Save Format" />
        <ComboBox
            x:Name="FormatComboBox"
            Grid.Row="1"
            Margin="0,0,0,15"
            HorizontalAlignment="Stretch"
            SelectionChanged="FormatComboBox_SelectionChanged" />

        <!--  Quality Settings (for JPG)  -->
        <Grid
            x:Name="QualityGrid"
            Grid.Row="2"
            Margin="0,0,0,15"
            Visibility="Collapsed">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <TextBlock
                Grid.Row="0"
                Grid.Column="0"
                Margin="0,0,0,5"
                FontWeight="SemiBold"
                Text="Quality" />
            <TextBlock
                x:Name="QualityValueText"
                Grid.Row="0"
                Grid.Column="1"
                Margin="0,0,0,5"
                Text="90%" />

            <Slider
                x:Name="QualitySlider"
                Grid.Row="1"
                Grid.ColumnSpan="2"
                Maximum="100"
                Minimum="1"
                TickFrequency="10"
                TickPlacement="BottomRight"
                ValueChanged="QualitySlider_ValueChanged"
                Value="90" />
        </Grid>

        <!--  Resize Options  -->
        <TextBlock
            Grid.Row="3"
            Margin="0,0,0,5"
            FontWeight="SemiBold"
            Text="Resize Options" />
        <Grid Grid.Row="4" Margin="0,0,0,15">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <CheckBox
                x:Name="ResizeCheckBox"
                Grid.Row="0"
                Grid.ColumnSpan="4"
                Margin="0,0,0,10"
                Checked="ResizeCheckBox_CheckedChanged"
                Content="Resize image"
                Unchecked="ResizeCheckBox_CheckedChanged" />

            <TextBlock
                Grid.Row="1"
                Grid.Column="0"
                Margin="0,0,5,0"
                VerticalAlignment="Center"
                Text="Width:" />
            <wpfui:NumberBox
                x:Name="WidthBox"
                Grid.Row="1"
                Grid.Column="1"
                Margin="0,0,10,0"
                IsEnabled="False"
                Minimum="1"
                ValueChanged="WidthBox_ValueChanged"
                Value="100" />

            <TextBlock
                Grid.Row="1"
                Grid.Column="2"
                Margin="0,0,5,0"
                VerticalAlignment="Center"
                Text="Height:" />
            <wpfui:NumberBox
                x:Name="HeightBox"
                Grid.Row="1"
                Grid.Column="3"
                IsEnabled="False"
                Minimum="1"
                Value="100" />

        </Grid>

        <CheckBox
            x:Name="MaintainAspectRatioCheckBox"
            Grid.Row="5"
            Content="Maintain aspect ratio"
            IsChecked="True"
            IsEnabled="False" />

        <!--  Buttons  -->
        <StackPanel
            Grid.Row="6"
            Margin="0,15,0,0"
            HorizontalAlignment="Right"
            Orientation="Horizontal">
            <wpfui:Button
                x:Name="CancelButton"
                Margin="0,0,10,0"
                Appearance="Secondary"
                Click="CancelButton_Click"
                Content="Cancel" />
            <wpfui:Button
                x:Name="SaveButton"
                Appearance="Primary"
                Click="SaveButton_Click"
                Content="Save" />
        </StackPanel>
    </Grid>
</UserControl>
